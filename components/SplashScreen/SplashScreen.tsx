import { useEffect, useState } from 'react'
import "./SplashScreen.css"

const SplashScreen = () => {
    const [count, setCount] = useState(0);

    useEffect(() => {
        const interval = setInterval(() => {
            if (count < 100) {
                setCount(prevCount => prevCount + 1);
            } else if (count === 100) {
                sessionStorage.setItem('isNotFirstTime', 'true')
            }
        }, 20);

        return () => clearInterval(interval);
    }, [count]);

    return (
        <>
            {<div className={`splash-screen-section ${count < 100 ? "" : "hide"}`}>
                <div className={`splash-screen ${count >= 100 && "move-to-top"}`}>
                    <svg className={`${count >= 100 && "reduce-size"}`} width="354" height="238" viewBox="0 0 405 289" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="gradient" x1="0%" y1="100%" x2="0%" y2="0%">
                                <stop offset={`${count}%`} stop-color={`${count < 100 ? "#000" : "#F7931E"}`} />
                                <stop offset="0%" stopColor="transparent" />
                            </linearGradient>
                        </defs>
                        <path fill="url(#gradient)" fillRule="evenodd" clipRule="evenodd" d="M298.958 287.21C309.958 286.15 320.588 283.5 330.598 279.48C341.158 275.29 351.058 269.54 360.178 262.26C362.168 260.71 364.558 258.61 366.978 256.33C367.978 255.4 368.968 254.45 369.938 253.48C373.808 249.66 377.408 245.73 379.258 243.19C380.298 241.81 382.298 239.11 383.678 237.18C385.798 234.33 388.118 230.49 390.358 226.17C394.988 217.6 398.578 208.39 400.918 198.69C402.638 191.55 403.638 184.14 403.928 176.67C404.528 162.77 402.638 148.71 398.258 135.39C397.448 132.91 396.568 130.47 395.598 128.07C393.178 122.2 392.208 120.12 388.128 112.8C386.118 109.21 380.868 101.47 379.278 99.88C378.798 99.4 377.828 98.22 377.208 97.25C376.008 95.47 372.698 92 368.928 88.4C365.908 85.46 362.688 82.51 360.318 80.6L355.408 76.52H354.848C345.028 69.61 335.158 64.68 323.568 60.9C312.438 57.24 303.938 55.86 288.588 55.1C280.988 54.75 273.108 54.13 271.168 53.79C271.018 53.76 270.868 53.73 270.728 53.7L266.658 52.68C261.058 51.37 251.868 47.98 248.138 45.91C247.658 45.66 247.038 45.32 246.378 44.96C245.348 44.4 244.198 43.78 243.278 43.31C241.258 42.11 239.298 40.83 237.388 39.46C235.198 37.84 232.818 35.94 230.578 34.01C222.868 27.12 216.318 18.68 211.108 8.81C207.788 2.45 206.128 1 202.538 1H202.518C198.928 1 197.268 2.45 193.948 8.81C188.738 18.69 182.198 27.13 174.478 34.01C172.238 35.94 169.868 37.84 167.678 39.46C165.768 40.83 163.808 42.11 161.788 43.31C160.868 43.78 159.728 44.4 158.688 44.96C158.018 45.32 157.398 45.66 156.918 45.91C153.188 47.98 143.988 51.37 138.388 52.68L134.318 53.7C134.168 53.73 134.018 53.76 133.868 53.79C131.928 54.14 124.048 54.76 116.448 55.1C101.098 55.86 92.5984 57.24 81.4684 60.9C69.8784 64.68 60.0084 69.61 50.1884 76.52H49.6284L44.7184 80.6C42.3484 82.51 39.1284 85.46 36.1084 88.4C32.3384 92.01 29.0184 95.48 27.8284 97.26C27.2084 98.23 26.2384 99.4 25.7584 99.89C24.1684 101.48 18.9184 109.22 16.9084 112.81C12.8284 120.14 11.8584 122.21 9.43843 128.08C8.46843 130.48 7.57843 132.93 6.77843 135.4C2.39843 148.72 0.508434 162.78 1.10843 176.68C1.39843 184.16 2.39843 191.56 4.11843 198.7C6.45843 208.4 10.0484 217.61 14.6784 226.18C16.9184 230.5 19.2284 234.34 21.3584 237.19C22.7384 239.12 24.7484 241.82 25.7784 243.2C27.6284 245.75 31.2284 249.67 35.0984 253.5C36.0684 254.46 37.0484 255.41 38.0484 256.34C40.4784 258.62 42.8584 260.71 44.8584 262.27C53.9784 269.54 63.8684 275.29 74.4284 279.48C84.4384 283.5 95.0784 286.16 106.078 287.22C106.418 287.25 106.978 287.28 107.748 287.31C113.608 287.71 157.978 287.89 202.548 287.88C247.098 287.89 291.428 287.71 297.288 287.31C298.058 287.27 298.618 287.24 298.958 287.21ZM106.798 264.4C103.298 263.99 99.8684 263.4 96.5184 262.64C86.7284 260.31 76.6884 256.19 67.9984 250.96C62.0684 247.24 56.5284 242.8 51.4384 237.66C38.0984 224.32 29.6484 208.75 25.7184 190.34C24.8684 186.07 24.3284 181.7 24.0684 177.19C23.7884 169.77 24.1484 160.84 25.0984 155.56C26.4884 147.94 29.0984 139.86 32.4884 132.34C32.9484 131.36 33.4184 130.37 33.9184 129.37C36.7184 123.68 39.9984 118.39 43.7384 113.54C47.6784 108.67 54.2884 102.03 59.0184 98.06C61.4784 96.12 64.0484 94.3 66.7184 92.6C75.0684 87.46 85.6084 82.87 94.5584 80.66C100.318 79.25 103.828 78.54 118.918 78.21L199.038 78.03L202.508 78.02L205.978 78.03L286.108 78.21C301.208 78.54 304.708 79.25 310.468 80.66C319.418 82.87 329.958 87.46 338.308 92.6C340.988 94.3 343.558 96.12 346.018 98.06C350.748 102.03 357.358 108.67 361.298 113.54C365.038 118.39 368.318 123.68 371.118 129.37C371.618 130.37 372.088 131.36 372.548 132.34C375.938 139.85 378.548 147.94 379.938 155.56C380.898 160.83 381.258 169.76 380.968 177.19C380.718 181.69 380.168 186.07 379.328 190.34C375.388 208.75 366.938 224.33 353.608 237.66C348.508 242.8 342.978 247.24 337.038 250.97C328.348 256.2 318.308 260.32 308.518 262.65C305.168 263.41 301.738 263.99 298.238 264.41C297.658 264.48 296.088 264.54 293.678 264.6C266.308 265.24 137.738 265.24 111.298 264.6C108.928 264.53 107.368 264.47 106.798 264.4ZM251.948 170.34C251.948 151.25 267.428 135.77 286.518 135.77C305.608 135.77 321.088 151.25 321.088 170.34C321.088 189.43 305.618 204.91 286.518 204.91C267.418 204.91 251.948 189.43 251.948 170.34ZM83.9584 170.34C83.9584 151.25 99.4384 135.77 118.528 135.77C137.618 135.77 153.098 151.25 153.098 170.34C153.098 189.43 137.618 204.91 118.528 204.91C99.4384 204.91 83.9584 189.43 83.9584 170.34Z" stroke={`${count < 100 ? "#000" : ""}`} stroke-miterlimit="10" />
                    </svg>
                </div>

                <p className={`${count >= 100 && "hide-text"}`} >{count}/100</p>
            </div>}
        </>
    )
}

export default SplashScreen

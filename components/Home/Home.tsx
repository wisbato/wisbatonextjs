"use client"

import WorksCard from './WorksCard';
import ServicesCard from './ServicesCard';
import DefaultButton from '../DefaultButton';
import Testimonials from '../Testimonials/Testimonials';
import { useFetchWorks } from '../../Hooks/useFetchData';
import { useRouter } from 'next/navigation';
import { services } from '../../utils/servicesData';
import useScrollAnimation from '../../Hooks/useScrollAnimation';
import SectionTitle from '../SectionTitle';
import Hero from './Hero';
import './Home.css';

import Skeleton from "react-loading-skeleton"
import 'react-loading-skeleton/dist/skeleton.css'
import { useFetchMetaTags } from '../../Hooks/useFetchMetaTags';
import Head from 'next/head';

const Home = () => {
    const router = useRouter();
    const animateRef = useScrollAnimation();

    const handleNavigation = (title: string) => {
        const data = title.replace(/[^\w]+/gi, "-").toLowerCase();
        router.push(`/${data}`);
        window.scrollTo(0, 0);
    };

    const { works, isLoading } = useFetchWorks();

    const { metaTags } = useFetchMetaTags("Home");

    return (
        <>
            <Head>
                <title>{metaTags?.title}</title>
                <meta name="description" content={metaTags?.description} />
                <link rel="canonical" href="https://www.wisbato.com" />
            </Head>
            <Hero />
            <div className='work-section'>
                <SectionTitle title='works' />

                {isLoading ? <div className="works-card-list">
                    {Array.from({ length: 2 }).map((_, i) =>
                        <div className="works-card" key={i}>
                            <div className='works-card-img'>
                                <Skeleton height={300} />
                            </div>
                            <div className='works-title' >
                                <h1><Skeleton width={200} /></h1>
                            </div>
                        </div>
                    )}
                </div> :
                    <div className="works-card-list">
                        {works?.slice(0, 4).map((item, i) =>
                            <WorksCard key={i} data={item} />
                        )}
                    </div>
                }
                <div className='works-btn-div' >
                    <DefaultButton theme='light-bg-btn' onClick={() => handleNavigation("works")} text={"view all works"} />
                </div>
            </div>

            <div className="home-about-section noise">
                <div className="home-about-content text-reveal">
                    <h1 className='home-about-title'><span>who we are</span></h1>
                    <p className='home-about-context'><span>At Wisbato, we craft tailored solutions, from web design to bespoke applications, ERPs, CRMs, and top-notch e-commerce solutions. Our satisfied clients testify to our commitment to excellence. We believe that innovation fuelsÂ creativity.</span></p>
                    <div>
                        <DefaultButton theme='dark-bg-btn' onClick={() => handleNavigation("about")} text='about us' />
                    </div>
                </div>
                <div className="robo-icons-div" ref={animateRef}>
                    <svg
                        className='robot-icon1'
                        width="153"
                        height="109"
                        viewBox="0 0 166 118"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            fill-rule="evenodd"
                            clip-rule="evenodd"
                            d="M122.112 117.309C126.62 116.874 130.978 115.787 135.079 114.139C139.407 112.423 143.462 110.066 147.201 107.084C148.017 106.447 148.993 105.59 149.987 104.657C150.399 104.273 150.805 103.882 151.204 103.484C152.789 101.919 154.264 100.311 155.02 99.2676C155.445 98.7012 156.266 97.5966 156.833 96.8036C157.703 95.6344 158.652 94.0605 159.569 92.292C161.468 88.7799 162.937 85.0029 163.898 81.0284C164.604 78.0994 165.013 75.0632 165.131 71.9978C165.378 66.3041 164.604 60.5451 162.81 55.0878C162.479 54.0711 162.115 53.0686 161.717 52.0836C160.725 49.6763 160.328 48.8266 158.657 45.8245C157.835 44.3518 155.682 41.1798 155.031 40.5284C154.833 40.3301 154.436 39.8487 154.181 39.4521C153.69 38.7233 152.332 37.3007 150.787 35.8229C149.551 34.6191 148.23 33.4091 147.258 32.6266L145.246 30.9556L145.018 30.9556C140.993 28.1229 136.948 26.1037 132.198 24.5549C127.637 23.0539 124.152 22.4875 117.863 22.1759C114.747 22.0343 111.517 21.7794 110.724 21.6378C110.663 21.626 110.602 21.6141 110.542 21.602L108.872 21.1846C106.577 20.6465 102.809 19.2588 101.28 18.4091C101.083 18.3055 100.829 18.1678 100.556 18.0195L100.555 18.0194C100.133 17.7899 99.6631 17.5351 99.2861 17.3426C98.4586 16.851 97.654 16.3249 96.8733 15.7648C95.975 15.1001 95.0026 14.3205 94.0843 13.5297C90.9228 10.7077 88.2398 7.24743 86.1062 3.20037C84.7464 0.594772 84.0665 1.47202e-05 82.5934 1.4849e-05L82.5916 1.48491e-05L82.5824 7.22054e-06C81.1093 7.34933e-06 80.4293 0.594764 79.0695 3.20036C76.9358 7.24764 74.2527 10.7081 71.0908 13.5302C70.1729 14.3206 69.2011 15.0999 68.3031 15.7643C67.5221 16.3246 66.7173 16.8509 65.8895 17.3426C65.5128 17.5351 65.0438 17.7896 64.6212 18.0189L64.6202 18.0195C64.3469 18.1677 64.0931 18.3055 63.8961 18.4091C62.3664 19.2588 58.5986 20.6465 56.3039 21.1847L54.6345 21.6019C54.5736 21.614 54.5126 21.626 54.4516 21.6378C53.6583 21.7794 50.4288 22.0343 47.3126 22.1759C41.0236 22.4875 37.5391 23.0539 32.9781 24.5549C28.2274 26.1037 24.1827 28.1229 20.1576 30.9556L19.9294 30.9556L17.918 32.6266C16.9459 33.4091 15.6251 34.6191 14.3891 35.8229C12.8436 37.3006 11.4854 38.7233 10.9947 39.4522C10.7397 39.8487 10.3431 40.3301 10.1448 40.5284C9.49326 41.1798 7.34025 44.3518 6.51872 45.8245C4.8473 48.8266 4.45069 49.6763 3.45916 52.0836C3.06111 53.0677 2.697 54.0693 2.36711 55.0849C0.571849 60.5447 -0.202275 66.3063 0.04475 72.0025C0.163189 75.0664 0.572232 78.1009 1.27783 81.0284C2.23849 85.0024 3.70724 88.7788 5.60563 92.2905C6.52321 94.0597 7.47218 95.6341 8.34276 96.8036C8.90935 97.5966 9.73089 98.7012 10.1558 99.2676C10.9125 100.312 12.3886 101.921 13.9753 103.488C14.3718 103.883 14.7751 104.272 15.1849 104.653C16.1797 105.587 17.158 106.446 17.9747 107.084C21.7146 110.067 25.7709 112.424 30.1003 114.141C34.2002 115.788 38.557 116.875 43.0633 117.309C43.201 117.321 43.4314 117.333 43.7475 117.345C46.1474 117.508 64.3343 117.584 82.5993 117.578C100.855 117.584 119.027 117.508 121.428 117.345C121.744 117.333 121.975 117.321 122.112 117.309ZM43.3575 107.962C41.9227 107.792 40.5176 107.552 39.1443 107.242C35.1325 106.286 31.0168 104.599 27.4548 102.454C25.0231 100.929 22.7546 99.1092 20.6659 97.0019C15.199 91.5364 11.7367 85.1534 10.123 77.6075C9.77647 75.8581 9.55276 74.0647 9.4485 72.2191C9.33184 69.1773 9.4795 65.5169 9.87254 63.3557C10.4417 60.2337 11.5121 56.9196 12.9022 53.8398C13.089 53.4385 13.2841 53.0327 13.4877 52.6217C14.6354 50.288 15.9807 48.122 17.5123 46.1335C19.1265 44.137 21.8359 41.4145 23.7756 39.788C24.7828 38.9916 25.8357 38.2452 26.9327 37.5501C30.356 35.4427 34.6754 33.5604 38.3433 32.655C40.7052 32.0755 42.1406 31.785 48.3286 31.6509L81.1659 31.5787L82.5861 31.5757L84.0098 31.5787L116.848 31.6509C123.035 31.785 124.471 32.0755 126.832 32.6549C130.5 33.5604 134.82 35.4427 138.243 37.5501C139.34 38.2452 140.393 38.9915 141.4 39.7877C143.34 41.4143 146.049 44.1372 147.664 46.1338C149.195 48.1222 150.54 50.2882 151.688 52.6218C151.892 53.0326 152.087 53.4382 152.273 53.8393C153.664 56.9193 154.734 60.2335 155.303 63.3557C155.696 65.5172 155.844 69.1784 155.727 72.2204C155.623 74.0649 155.399 75.857 155.053 77.6054C153.44 85.1521 149.977 91.5359 144.51 97.0019C142.421 99.1095 140.152 100.929 137.72 102.455C134.159 104.599 130.044 106.286 126.033 107.242C124.659 107.552 123.254 107.792 121.818 107.962C121.579 107.991 120.935 108.017 119.947 108.041C108.726 108.305 56.0357 108.304 45.2031 108.04C44.23 108.016 43.5947 107.99 43.3575 107.962ZM102.845 69.4135C102.845 61.5899 109.188 55.2475 117.011 55.2475C124.835 55.2475 131.177 61.5899 131.177 69.4135C131.177 77.2372 124.835 83.5796 117.011 83.5796C109.188 83.5796 102.845 77.2372 102.845 69.4135ZM33.9983 69.4135C33.9983 61.5899 40.3407 55.2475 48.1644 55.2475C55.9881 55.2475 62.3304 61.5898 62.3304 69.4135C62.3304 77.2372 55.9881 83.5796 48.1644 83.5796C40.3407 83.5796 33.9983 77.2372 33.9983 69.4135Z"
                            fill="#fff"
                        />
                    </svg>
                    <svg
                        className='robot-icon2'
                        width="223"
                        height="158"
                        viewBox="0 0 166 118"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            fill-rule="evenodd"
                            clip-rule="evenodd"
                            d="M122.112 117.309C126.62 116.874 130.978 115.787 135.079 114.139C139.407 112.423 143.462 110.066 147.201 107.084C148.017 106.447 148.993 105.59 149.987 104.657C150.399 104.273 150.805 103.882 151.204 103.484C152.789 101.919 154.264 100.311 155.02 99.2676C155.445 98.7012 156.266 97.5966 156.833 96.8036C157.703 95.6344 158.652 94.0605 159.569 92.292C161.468 88.7799 162.937 85.0029 163.898 81.0284C164.604 78.0994 165.013 75.0632 165.131 71.9978C165.378 66.3041 164.604 60.5451 162.81 55.0878C162.479 54.0711 162.115 53.0686 161.717 52.0836C160.725 49.6763 160.328 48.8266 158.657 45.8245C157.835 44.3518 155.682 41.1798 155.031 40.5284C154.833 40.3301 154.436 39.8487 154.181 39.4521C153.69 38.7233 152.332 37.3007 150.787 35.8229C149.551 34.6191 148.23 33.4091 147.258 32.6266L145.246 30.9556L145.018 30.9556C140.993 28.1229 136.948 26.1037 132.198 24.5549C127.637 23.0539 124.152 22.4875 117.863 22.1759C114.747 22.0343 111.517 21.7794 110.724 21.6378C110.663 21.626 110.602 21.6141 110.542 21.602L108.872 21.1846C106.577 20.6465 102.809 19.2588 101.28 18.4091C101.083 18.3055 100.829 18.1678 100.556 18.0195L100.555 18.0194C100.133 17.7899 99.6631 17.5351 99.2861 17.3426C98.4586 16.851 97.654 16.3249 96.8733 15.7648C95.975 15.1001 95.0026 14.3205 94.0843 13.5297C90.9228 10.7077 88.2398 7.24743 86.1062 3.20037C84.7464 0.594772 84.0665 1.47202e-05 82.5934 1.4849e-05L82.5916 1.48491e-05L82.5824 7.22054e-06C81.1093 7.34933e-06 80.4293 0.594764 79.0695 3.20036C76.9358 7.24764 74.2527 10.7081 71.0908 13.5302C70.1729 14.3206 69.2011 15.0999 68.3031 15.7643C67.5221 16.3246 66.7173 16.8509 65.8895 17.3426C65.5128 17.5351 65.0438 17.7896 64.6212 18.0189L64.6202 18.0195C64.3469 18.1677 64.0931 18.3055 63.8961 18.4091C62.3664 19.2588 58.5986 20.6465 56.3039 21.1847L54.6345 21.6019C54.5736 21.614 54.5126 21.626 54.4516 21.6378C53.6583 21.7794 50.4288 22.0343 47.3126 22.1759C41.0236 22.4875 37.5391 23.0539 32.9781 24.5549C28.2274 26.1037 24.1827 28.1229 20.1576 30.9556L19.9294 30.9556L17.918 32.6266C16.9459 33.4091 15.6251 34.6191 14.3891 35.8229C12.8436 37.3006 11.4854 38.7233 10.9947 39.4522C10.7397 39.8487 10.3431 40.3301 10.1448 40.5284C9.49326 41.1798 7.34025 44.3518 6.51872 45.8245C4.8473 48.8266 4.45069 49.6763 3.45916 52.0836C3.06111 53.0677 2.697 54.0693 2.36711 55.0849C0.571849 60.5447 -0.202275 66.3063 0.04475 72.0025C0.163189 75.0664 0.572232 78.1009 1.27783 81.0284C2.23849 85.0024 3.70724 88.7788 5.60563 92.2905C6.52321 94.0597 7.47218 95.6341 8.34276 96.8036C8.90935 97.5966 9.73089 98.7012 10.1558 99.2676C10.9125 100.312 12.3886 101.921 13.9753 103.488C14.3718 103.883 14.7751 104.272 15.1849 104.653C16.1797 105.587 17.158 106.446 17.9747 107.084C21.7146 110.067 25.7709 112.424 30.1003 114.141C34.2002 115.788 38.557 116.875 43.0633 117.309C43.201 117.321 43.4314 117.333 43.7475 117.345C46.1474 117.508 64.3343 117.584 82.5993 117.578C100.855 117.584 119.027 117.508 121.428 117.345C121.744 117.333 121.975 117.321 122.112 117.309ZM43.3575 107.962C41.9227 107.792 40.5176 107.552 39.1443 107.242C35.1325 106.286 31.0168 104.599 27.4548 102.454C25.0231 100.929 22.7546 99.1092 20.6659 97.0019C15.199 91.5364 11.7367 85.1534 10.123 77.6075C9.77647 75.8581 9.55276 74.0647 9.4485 72.2191C9.33184 69.1773 9.4795 65.5169 9.87254 63.3557C10.4417 60.2337 11.5121 56.9196 12.9022 53.8398C13.089 53.4385 13.2841 53.0327 13.4877 52.6217C14.6354 50.288 15.9807 48.122 17.5123 46.1335C19.1265 44.137 21.8359 41.4145 23.7756 39.788C24.7828 38.9916 25.8357 38.2452 26.9327 37.5501C30.356 35.4427 34.6754 33.5604 38.3433 32.655C40.7052 32.0755 42.1406 31.785 48.3286 31.6509L81.1659 31.5787L82.5861 31.5757L84.0098 31.5787L116.848 31.6509C123.035 31.785 124.471 32.0755 126.832 32.6549C130.5 33.5604 134.82 35.4427 138.243 37.5501C139.34 38.2452 140.393 38.9915 141.4 39.7877C143.34 41.4143 146.049 44.1372 147.664 46.1338C149.195 48.1222 150.54 50.2882 151.688 52.6218C151.892 53.0326 152.087 53.4382 152.273 53.8393C153.664 56.9193 154.734 60.2335 155.303 63.3557C155.696 65.5172 155.844 69.1784 155.727 72.2204C155.623 74.0649 155.399 75.857 155.053 77.6054C153.44 85.1521 149.977 91.5359 144.51 97.0019C142.421 99.1095 140.152 100.929 137.72 102.455C134.159 104.599 130.044 106.286 126.033 107.242C124.659 107.552 123.254 107.792 121.818 107.962C121.579 107.991 120.935 108.017 119.947 108.041C108.726 108.305 56.0357 108.304 45.2031 108.04C44.23 108.016 43.5947 107.99 43.3575 107.962ZM102.845 69.4135C102.845 61.5899 109.188 55.2475 117.011 55.2475C124.835 55.2475 131.177 61.5899 131.177 69.4135C131.177 77.2372 124.835 83.5796 117.011 83.5796C109.188 83.5796 102.845 77.2372 102.845 69.4135ZM33.9983 69.4135C33.9983 61.5899 40.3407 55.2475 48.1644 55.2475C55.9881 55.2475 62.3304 61.5898 62.3304 69.4135C62.3304 77.2372 55.9881 83.5796 48.1644 83.5796C40.3407 83.5796 33.9983 77.2372 33.9983 69.4135Z"
                            fill="#fff"
                        />
                    </svg>
                    <svg
                        className='robot-icon3'
                        width="153"
                        height="109"
                        viewBox="0 0 166 118"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            fill-rule="evenodd"
                            clip-rule="evenodd"
                            d="M122.112 117.309C126.62 116.874 130.978 115.787 135.079 114.139C139.407 112.423 143.462 110.066 147.201 107.084C148.017 106.447 148.993 105.59 149.987 104.657C150.399 104.273 150.805 103.882 151.204 103.484C152.789 101.919 154.264 100.311 155.02 99.2676C155.445 98.7012 156.266 97.5966 156.833 96.8036C157.703 95.6344 158.652 94.0605 159.569 92.292C161.468 88.7799 162.937 85.0029 163.898 81.0284C164.604 78.0994 165.013 75.0632 165.131 71.9978C165.378 66.3041 164.604 60.5451 162.81 55.0878C162.479 54.0711 162.115 53.0686 161.717 52.0836C160.725 49.6763 160.328 48.8266 158.657 45.8245C157.835 44.3518 155.682 41.1798 155.031 40.5284C154.833 40.3301 154.436 39.8487 154.181 39.4521C153.69 38.7233 152.332 37.3007 150.787 35.8229C149.551 34.6191 148.23 33.4091 147.258 32.6266L145.246 30.9556L145.018 30.9556C140.993 28.1229 136.948 26.1037 132.198 24.5549C127.637 23.0539 124.152 22.4875 117.863 22.1759C114.747 22.0343 111.517 21.7794 110.724 21.6378C110.663 21.626 110.602 21.6141 110.542 21.602L108.872 21.1846C106.577 20.6465 102.809 19.2588 101.28 18.4091C101.083 18.3055 100.829 18.1678 100.556 18.0195L100.555 18.0194C100.133 17.7899 99.6631 17.5351 99.2861 17.3426C98.4586 16.851 97.654 16.3249 96.8733 15.7648C95.975 15.1001 95.0026 14.3205 94.0843 13.5297C90.9228 10.7077 88.2398 7.24743 86.1062 3.20037C84.7464 0.594772 84.0665 1.47202e-05 82.5934 1.4849e-05L82.5916 1.48491e-05L82.5824 7.22054e-06C81.1093 7.34933e-06 80.4293 0.594764 79.0695 3.20036C76.9358 7.24764 74.2527 10.7081 71.0908 13.5302C70.1729 14.3206 69.2011 15.0999 68.3031 15.7643C67.5221 16.3246 66.7173 16.8509 65.8895 17.3426C65.5128 17.5351 65.0438 17.7896 64.6212 18.0189L64.6202 18.0195C64.3469 18.1677 64.0931 18.3055 63.8961 18.4091C62.3664 19.2588 58.5986 20.6465 56.3039 21.1847L54.6345 21.6019C54.5736 21.614 54.5126 21.626 54.4516 21.6378C53.6583 21.7794 50.4288 22.0343 47.3126 22.1759C41.0236 22.4875 37.5391 23.0539 32.9781 24.5549C28.2274 26.1037 24.1827 28.1229 20.1576 30.9556L19.9294 30.9556L17.918 32.6266C16.9459 33.4091 15.6251 34.6191 14.3891 35.8229C12.8436 37.3006 11.4854 38.7233 10.9947 39.4522C10.7397 39.8487 10.3431 40.3301 10.1448 40.5284C9.49326 41.1798 7.34025 44.3518 6.51872 45.8245C4.8473 48.8266 4.45069 49.6763 3.45916 52.0836C3.06111 53.0677 2.697 54.0693 2.36711 55.0849C0.571849 60.5447 -0.202275 66.3063 0.04475 72.0025C0.163189 75.0664 0.572232 78.1009 1.27783 81.0284C2.23849 85.0024 3.70724 88.7788 5.60563 92.2905C6.52321 94.0597 7.47218 95.6341 8.34276 96.8036C8.90935 97.5966 9.73089 98.7012 10.1558 99.2676C10.9125 100.312 12.3886 101.921 13.9753 103.488C14.3718 103.883 14.7751 104.272 15.1849 104.653C16.1797 105.587 17.158 106.446 17.9747 107.084C21.7146 110.067 25.7709 112.424 30.1003 114.141C34.2002 115.788 38.557 116.875 43.0633 117.309C43.201 117.321 43.4314 117.333 43.7475 117.345C46.1474 117.508 64.3343 117.584 82.5993 117.578C100.855 117.584 119.027 117.508 121.428 117.345C121.744 117.333 121.975 117.321 122.112 117.309ZM43.3575 107.962C41.9227 107.792 40.5176 107.552 39.1443 107.242C35.1325 106.286 31.0168 104.599 27.4548 102.454C25.0231 100.929 22.7546 99.1092 20.6659 97.0019C15.199 91.5364 11.7367 85.1534 10.123 77.6075C9.77647 75.8581 9.55276 74.0647 9.4485 72.2191C9.33184 69.1773 9.4795 65.5169 9.87254 63.3557C10.4417 60.2337 11.5121 56.9196 12.9022 53.8398C13.089 53.4385 13.2841 53.0327 13.4877 52.6217C14.6354 50.288 15.9807 48.122 17.5123 46.1335C19.1265 44.137 21.8359 41.4145 23.7756 39.788C24.7828 38.9916 25.8357 38.2452 26.9327 37.5501C30.356 35.4427 34.6754 33.5604 38.3433 32.655C40.7052 32.0755 42.1406 31.785 48.3286 31.6509L81.1659 31.5787L82.5861 31.5757L84.0098 31.5787L116.848 31.6509C123.035 31.785 124.471 32.0755 126.832 32.6549C130.5 33.5604 134.82 35.4427 138.243 37.5501C139.34 38.2452 140.393 38.9915 141.4 39.7877C143.34 41.4143 146.049 44.1372 147.664 46.1338C149.195 48.1222 150.54 50.2882 151.688 52.6218C151.892 53.0326 152.087 53.4382 152.273 53.8393C153.664 56.9193 154.734 60.2335 155.303 63.3557C155.696 65.5172 155.844 69.1784 155.727 72.2204C155.623 74.0649 155.399 75.857 155.053 77.6054C153.44 85.1521 149.977 91.5359 144.51 97.0019C142.421 99.1095 140.152 100.929 137.72 102.455C134.159 104.599 130.044 106.286 126.033 107.242C124.659 107.552 123.254 107.792 121.818 107.962C121.579 107.991 120.935 108.017 119.947 108.041C108.726 108.305 56.0357 108.304 45.2031 108.04C44.23 108.016 43.5947 107.99 43.3575 107.962ZM102.845 69.4135C102.845 61.5899 109.188 55.2475 117.011 55.2475C124.835 55.2475 131.177 61.5899 131.177 69.4135C131.177 77.2372 124.835 83.5796 117.011 83.5796C109.188 83.5796 102.845 77.2372 102.845 69.4135ZM33.9983 69.4135C33.9983 61.5899 40.3407 55.2475 48.1644 55.2475C55.9881 55.2475 62.3304 61.5898 62.3304 69.4135C62.3304 77.2372 55.9881 83.5796 48.1644 83.5796C40.3407 83.5796 33.9983 77.2372 33.9983 69.4135Z"
                            fill="#fff"
                        />
                    </svg>
                </div>
            </div>
            <div className="home-services-section">
                <SectionTitle title='services' />
                <div className="home-services-list">{services.slice(0, 4).map((item, i) => <ServicesCard key={i} data={item} />)}</div>
                <div className='services-btn-div' >
                    <DefaultButton onClick={() => handleNavigation("services")} theme='light-bg-btn' text={"view all services"} />
                </div>
            </div>
            <Testimonials />
        </>
    )
}

export default Home
